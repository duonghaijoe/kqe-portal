<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QE Dashboard - Period: 2025-06-01 to 2026-06-04</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; margin: 0; /* overflow-y: hidden; REMOVED */ }
        .dashboard-container { max-width: 1600px; margin: 0 auto; background: white; border-radius: 12px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1); overflow: hidden; display: flex; flex-direction: column; height: calc(100vh - 40px); /* Full viewport height minus body padding */ }
        
        .page-header-container {
            position: sticky; /* Stick to viewport */
            top: 0;
            z-index: 100; 
            background: white; 
            flex-shrink: 0; 
        }
        .header { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); color: white; padding: 20px 30px; text-align: center; position: relative; display: flex; align-items: center; justify-content: center; }
        .header-content { display: flex; align-items: center; } 
        .katalon-logo img { height: 40px; margin-right: 20px; }
        .header h1 { font-size: 2.2rem; margin: 0; font-weight: 700; }
        .period-info { font-size: 1.0rem; opacity: 0.9; margin-top: 5px; text-align: center; width: 100%; padding-bottom: 10px; /* Added padding for spacing if header is short */ }

        /* Tab styles */
        .tabs { 
            display: flex; 
            background: #f8f9fa; 
            border-bottom: 2px solid #e9ecef; 
            position: sticky; 
            top: 107px; /* ADJUSTED: Corrected based on calculated height of .page-header-container (approx. 106.2px) */
            z-index: 90; 
            flex-shrink: 0; 
        }
        .tab { padding: 15px 25px; cursor: pointer; font-weight: 600; color: #495057; transition: all 0.3s ease; }
        .tab:hover { background: #e9ecef; color: #1e3c72; }
        .tab.active { background: #1e3c72; color: white; }
        .tab:focus-visible {
            outline: 2px solid #1e3c72; 
            outline-offset: -2px; 
            box-shadow: 0 0 0 3px rgba(30, 60, 114, 0.3); 
        }
        
        .tab-content { 
            display: none; 
            flex-direction: column; 
            flex-grow: 1; 
            overflow: hidden; /* Parent hides overflow, children manage scroll */
        }
        .tab-content.active { 
            display: flex;
        }

        /* Leaderboard tab specific layout */
        #leaderboard.tab-content.active .stats-grid {
            flex-shrink: 0; 
            /* margin-bottom: 20px; /* This is handled by the generic .stats-grid rule */
        }
        #leaderboard.tab-content.active .leaderboard-table-wrapper {
            flex-grow: 1;
            overflow-y: auto;
            overflow-x: auto; 
            height: 0; /* Critical for flex-grow in scrollable flex child */
        }

        /* Analytics and Guidelines tab content scrolling */
        #analytics.tab-content.active > .analytics,
        #guidelines.tab-content.active > .guidelines {
            overflow-y: auto; 
            flex-grow: 1;     
            padding: 20px;    
            height: 0;        /* Critical for flex-grow in a scrollable flex child */
        }
        
        /* Generic styles for .analytics and .guidelines containers if needed (e.g., text-align) */
        /* Padding is now handled by the more specific rules above */
        .analytics { 
            text-align: center; 
        }
        .guidelines { 
            /* padding: 20px; Already handled above for active state */
        }

        /* Stats grid styles */
        .stats-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); 
            gap: 20px; 
            padding: 30px; 
            background: #f8f9fa; 
            flex-shrink: 0;
        }
        /* Specific margin for stats-grid when in #leaderboard */
        #leaderboard .stats-grid {
            margin-bottom: 20px; /* Space before the table wrapper */
        }

        .stat-card { background: white; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05); border-left: 4px solid #2a5298; }
        .stat-number { font-size: 1.8rem; font-weight: bold; color: #1e3c72; display: block; }
        .stat-label { color: #6c757d; font-size: 0.85rem; margin-top: 5px; }

        /* Table styles */
        .leaderboard-table-wrapper { 
            /* overflow-x: auto; /* Handled by #leaderboard.tab-content.active .leaderboard-table-wrapper */
            /* overflow-y: auto; /* Handled by #leaderboard.tab-content.active .leaderboard-table-wrapper */
            /* flex-grow: 1; /* Handled by #leaderboard.tab-content.active .leaderboard-table-wrapper */
            /* height: 0; /* Handled by #leaderboard.tab-content.active .leaderboard-table-wrapper */
        }
        .leaderboard-table { width: 100%; border-collapse: collapse; font-size: 13px; }
        .table-header { 
            background: #1e3c72; 
            color: white; 
            position: sticky; 
            top: 0; /* Sticky to the top of .leaderboard-table-wrapper */
            z-index: 10; 
        }
        .table-header th { padding: 12px 8px; text-align: center; font-weight: 600; border-right: 1px solid rgba(255, 255, 255, 0.1); vertical-align: middle; white-space: nowrap; border-bottom: 2px solid #18325c; }
        .table-header th:last-child { border-right: none; }
        .member-row { border-bottom: 1px solid #e9ecef; }
        .member-row:nth-child(even) { background-color: #f9f9f9; }
        .member-row:hover { background-color: #eff2f5; }
        
        .leaderboard-table tbody tr:first-child {
            /* scroll-margin-top: 0; /* Not needed if table header is sticky to its wrapper */
            /* If table-header is sticky to wrapper's top:0, then no scroll-margin-top needed for first data row */
        }

        /* Highlighting for top 3 ranks */
        .member-row.rank-1 { background-color: #fffadf; /* Pale gold */ }
        .member-row.rank-2 { background-color: #f0f4f8; /* Pale silver/blueish */ }
        .member-row.rank-3 { background-color: #ffe7d1; /* Pale bronze */ }

        /* Ensure hover on ranked rows is distinct */
        .member-row.rank-1:hover,
        .member-row.rank-2:hover,
        .member-row.rank-3:hover {
            background-color: #e0e8ef; /* A slightly more prominent hover for ranked rows */
        }

        .member-row td { padding: 10px 8px; /* Adjusted padding */ vertical-align: middle; } 
        .member-row td a:focus-visible {
            outline: 1px dotted #1e3c72;
            background-color: #f0f4f8; /* Lighter highlight for links */
            border-radius: 2px;
        }
        
        .rank-cell { text-align: center; font-weight: bold; font-size: 1.0rem; }
        .member-info { text-align: left; }
        .member-name { font-weight: bold; display: block; margin-bottom: 3px; font-size: 1.0em; color: #333; }
        .member-role { font-size: 0.85em; color: #555; }
        
        .team-cell { text-align: center; }
        .score-cell { text-align: center; } 
        .total-score { font-weight: bold; }
        .dimension-score span[title] { cursor: help; border-bottom: 1px dotted #777; }

        /* Guidelines styles */
        .guidelines { 
            /* padding: 20px; /* Moved to #guidelines.tab-content.active > .guidelines */
        }
        .guidelines h2 { color: #1e3c72; margin-bottom: 20px; }
        .guidelines-section { margin-bottom: 30px; }
        .guidelines-section h3 { color: #2a5298; margin-bottom: 15px; }
        .score-explanation { background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px; }
        .score-formula { font-family: monospace; background: #e9ecef; padding: 10px; border-radius: 4px; margin: 10px 0; white-space: pre-wrap; }
        .score-weights-table { width: 100%; border-collapse: collapse; margin-top:15px; }
        .score-weights-table th, .score-weights-table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        .score-weights-table th { background-color: #e9ecef; }

        /* Analytics styles */
        .analytics { 
            /* padding: 20px; /* Moved to #analytics.tab-content.active > .analytics */
            text-align: center; 
        }
        .analytics-placeholder { padding: 50px; background: #f8f9fa; border-radius: 8px; color: #6c757d; }
        
        #analytics-rows-container { /* Container for all analytics rows */
            display: flex;
            flex-direction: column;
            gap: 20px; /* Space between rows */
            margin-top: 20px;
        }

        .analytics-row {
            display: flex;
            flex-wrap: wrap; /* Allow wrapping */
            justify-content: flex-start; /* Align cards to the start of the row */
            margin-bottom: 20px;
        }

        .dimension-card {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px; /* Margin for each card */
            width: 100%; /* Make card take full width */
            max-width: 700px; /* Optional: Max width for very wide screens, adjust as needed */
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column; /* Stack chart and AI text vertically */
            min-height: 350px; /* Ensure cards have a minimum height */
        }

        .dimension-card h3 {
            margin-top: 0;
            color: #333;
            font-size: 1.2em;
            text-align: center;
            margin-bottom: 10px;
        }
        .dimension-card .ai-analysis {
            margin-top: 15px;
            font-size: 0.9em;
            color: #555;
            line-height: 1.4;
            overflow-y: auto; /* Scroll if content overflows */
            max-height: 100px; /* Limit AI analysis text height */
            flex-grow: 1; /* Allow AI analysis to take remaining space if chart is small */
        }
        .dimension-card canvas {
            max-height: 200px; /* Max height for the chart itself */
            width: 100% !important; /* Ensure canvas is responsive within card */
            margin-bottom: 10px;
        }

        /* Footer styles */
        .footer { 
            padding: 20px; 
            text-align: center; 
            background: #f8f9fa; 
            color: #6c757d; 
            font-size: 0.9rem; 
            border-top: 1px solid #e9ecef; 
            flex-shrink: 0; /* Prevent shrinking */
        }

        /* Responsive styles */
        @media (max-width: 992px) { /* Adjusted breakpoint for more columns */
            .header { flex-direction: column; padding: 20px; }
            .katalon-logo img { margin-right: 0; margin-bottom: 10px; }
            .header h1 { font-size: 1.8rem; }
            .tabs { 
                flex-direction: column; 
                position: static; /* Tabs become static, so no 'top' needed */
                /* top: auto; /* Explicitly remove top if switching from sticky */
            } 
            .tab { text-align: center; }
            .stats-grid { grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); }
            .leaderboard-table { font-size: 12px; }
            
            /* On smaller screens, if .tabs is static, .table-header needs to be sticky to viewport if it's to be sticky at all */
            /* However, .leaderboard-table-wrapper is the scroll container, so thead should be sticky to that. */
            /* The previous rule was fine for making it sticky within its scrolling parent */
            .table-header { 
                /* position: sticky; /* already sticky */
                /* top: 0; /* already sticky to its wrapper */
            }
            .table-header th { 
                padding: 10px 5px; 
            }
            /* If tabs are static, the table wrapper will be part of normal document flow below tabs */
            /* The first row doesn't need special scroll margin if header is sticky to its wrapper's top:0 */
            .leaderboard-table tbody tr:first-child {
                 scroll-margin-top: 2px; /* Potentially keep this for fine-tuning with borders */
            }

            .member-row td { padding: 8px 5px; }
        }
         @media (max-width: 768px) {
            .stats-grid { grid-template-columns: 1fr; }
        }

        /* Sortable table header styles */
        .table-header th.sortable {
            cursor: pointer;
            position: relative; /* For positioning the arrow */
        }
        .table-header th.sortable:hover {
            background-color: #24478f; /* Slightly darker shade on hover for sortable headers */
        }
        /* Arrows will be added via JS to keep HTML clean */
        .table-header th.sort-asc::after,
        .table-header th.sort-desc::after {
            position: absolute;
            right: 8px; /* Adjust as needed */
            font-size: 0.9em;
        }
        .table-header th.sort-asc::after {
            content: '\25B2'; /* Up arrow */
        }
        .table-header th.sort-desc::after {
            content: '\25BC'; /* Down arrow */
        }

    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="page-header-container"> <!-- WRAPPER ADDED HERE -->
            <div class="header">
                <div class="header-content">
                    <div class="katalon-logo">
                        <img src="https://d1h3p5fzmizjvp.cloudfront.net/themes/katalon_4/images/header/katalon_logo.svg" alt="Katalon Logo">
                    </div>
                    <h1>QE Performance Dashboard</h1>
                </div>
            </div>
            <div class="period-info">Period: 2025-06-01 to 2026-06-04</div>
        </div> <!-- WRAPPER ENDS HERE -->

        <div class="tabs">
            <div class="tab active" onclick="switchTab('leaderboard')">Leaderboard</div>
            <div class="tab" onclick="switchTab('guidelines')">Guidelines</div>
            <div class="tab" onclick="switchTab('analytics')">Analytics</div>
        </div>

        <!-- Leaderboard Tab -->
        <div id="leaderboard" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-number">20</span>
                    <span class="stat-label">Active Members</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">0</span>
                    <span class="stat-label">Bugs Reported (JIRA)</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">0</span>
                    <span class="stat-label">PRs Merged (GitHub)</span>
                </div>
                 <div class="stat-card">
                    <span class="stat-number">0</span>
                    <span class="stat-label">Direct Commits (GitHub)</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">0</span> <!-- Assuming this now includes all JIRA tasks -->
                    <span class="stat-label">JIRA Backlogs Completed</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">0</span>
                    <span class="stat-label">Manual Cases Run (TestOps)</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number">11673</span>
                    <span class="stat-label">Auto Cases Run (TestOps)</span>
                </div>
            </div>

            <div class="leaderboard-table-wrapper">
                <table class="leaderboard-table" id="leaderboardTable">
                    <thead class="table-header">
                        <tr>
                            <th class="sortable" onclick="sortTable(0, 'leaderboardTable')">Rank</th>
                            <th class="sortable" onclick="sortTable(1, 'leaderboardTable')">Member</th>
                            <th class="team-cell sortable" onclick="sortTable(2, 'leaderboardTable')">Team</th>
                            <th class="score-cell sortable" onclick="sortTable(3, 'leaderboardTable')">Total Score</th>
                            <th class="score-cell sortable" onclick="sortTable(4, 'leaderboardTable')">Bug Score</th>
                            <th class="score-cell sortable" onclick="sortTable(5, 'leaderboardTable')">GH Automation</th>
                            <th class="score-cell sortable" onclick="sortTable(6, 'leaderboardTable')">Run Manual</th>
                            <th class="score-cell sortable" onclick="sortTable(7, 'leaderboardTable')">Run Auto</th>
                            <th class="sortable" onclick="sortTable(8, 'leaderboardTable')">JIRA Backlogs (Story Points) 🛠️</th>
                            <th class="score-cell sortable" onclick="sortTable(9, 'leaderboardTable')">Docs</th>
                        </tr>
                    </thead>
                    <tbody>
                    
                        
                        
                        <tr class="member-row rank-1">
                            <td class="rank-cell rank-1">🥇</td>
                            <td class="member-info">
                                <span class="member-name">Nhi Ly</span>
                                <span class="member-role">nhi.ly@katalon.com / Quality Engineer</span>
                            </td>
                            <td class="team-cell">TestOps / Core</td>
                            <td class="score-cell total-score">50</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                8
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    
                                    <a href="https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22TO-10284%22%2C%20%22KSR-7727%22%2C%20%22TO-9887%22%2C%20%22TO-9857%22%2C%20%22TO-9856%22%2C%20%22TO-9855%22%2C%20%22TO-9304%22%29" target="_blank" title="
                                        JIRA Sprint/Backlog Tasks (7 tasks, 0.0 SP counted for score):
                                        Score Formula: (Completed Tasks * Points) * Story Point Multiplier
                                        Tasks considered: https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22TO-10284%22%2C%20%22KSR-7727%22%2C%20%22TO-9887%22%2C%20%22TO-9857%22%2C%20%22TO-9856%22%2C%20%22TO-9855%22%2C%20%22TO-9304%22%29
                                        
                                    ">
                                        42
                                    </a>
                                    (-)
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row rank-2">
                            <td class="rank-cell rank-2">🥈</td>
                            <td class="member-info">
                                <span class="member-name">Viet Nguyen</span>
                                <span class="member-role">viet.dnguyen@katalon.com / Lead Quality Engineer</span>
                            </td>
                            <td class="team-cell">TrueTest / TrueTest</td>
                            <td class="score-cell total-score">36</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    
                                    <a href="https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22KIP-5340%22%2C%20%22KIP-5332%22%2C%20%22KIP-5298%22%2C%20%22KIP-5186%22%2C%20%22KIP-5175%22%2C%20%22KIP-5157%22%29" target="_blank" title="
                                        JIRA Sprint/Backlog Tasks (6 tasks, 0.0 SP counted for score):
                                        Score Formula: (Completed Tasks * Points) * Story Point Multiplier
                                        Tasks considered: https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22KIP-5340%22%2C%20%22KIP-5332%22%2C%20%22KIP-5298%22%2C%20%22KIP-5186%22%2C%20%22KIP-5175%22%2C%20%22KIP-5157%22%29
                                        
                                    ">
                                        36
                                    </a>
                                    (-)
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row rank-3">
                            <td class="rank-cell rank-3">🥉</td>
                            <td class="member-info">
                                <span class="member-name">Lai Pham</span>
                                <span class="member-role">lai.pham@katalon.com / Quality Engineer</span>
                            </td>
                            <td class="team-cell">TrueTest / TrueTest</td>
                            <td class="score-cell total-score">30</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    
                                    <a href="https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22KIP-5296%22%2C%20%22KIP-5295%22%2C%20%22KIP-5267%22%2C%20%22KIP-5144%22%2C%20%22KIP-5064%22%29" target="_blank" title="
                                        JIRA Sprint/Backlog Tasks (5 tasks, 0.0 SP counted for score):
                                        Score Formula: (Completed Tasks * Points) * Story Point Multiplier
                                        Tasks considered: https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22KIP-5296%22%2C%20%22KIP-5295%22%2C%20%22KIP-5267%22%2C%20%22KIP-5144%22%2C%20%22KIP-5064%22%29
                                        
                                    ">
                                        30
                                    </a>
                                    (-)
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#4</td>
                            <td class="member-info">
                                <span class="member-name">Vuong (David) Cap</span>
                                <span class="member-role">vuong.cap@katalon.com / Senior Quality Engineer</span>
                            </td>
                            <td class="team-cell">TestOps / Manual Test</td>
                            <td class="score-cell total-score">18</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                8
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                9
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    
                                    <a href="https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22TO-10323%22%29" target="_blank" title="
                                        JIRA Sprint/Backlog Tasks (1 tasks, 0.0 SP counted for score):
                                        Score Formula: (Completed Tasks * Points) * Story Point Multiplier
                                        Tasks considered: https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22TO-10323%22%29
                                        
                                    ">
                                        6
                                    </a>
                                    (-)
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#5</td>
                            <td class="member-info">
                                <span class="member-name">Chi Nguyen</span>
                                <span class="member-role">chi.nguyen@katalon.com / Senior Quality Engineer</span>
                            </td>
                            <td class="team-cell">TestOps / Manual Test</td>
                            <td class="score-cell total-score">18</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                8
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                534
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    
                                    <a href="https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22TO-10204%22%29" target="_blank" title="
                                        JIRA Sprint/Backlog Tasks (1 tasks, 0.0 SP counted for score):
                                        Score Formula: (Completed Tasks * Points) * Story Point Multiplier
                                        Tasks considered: https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22TO-10204%22%29
                                        
                                    ">
                                        6
                                    </a>
                                    (-)
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#6</td>
                            <td class="member-info">
                                <span class="member-name">Phu Vuong</span>
                                <span class="member-role">phu.vuong@katalon.com / Senior Quality Engineer</span>
                            </td>
                            <td class="team-cell">TestCloud / TestCloud</td>
                            <td class="score-cell total-score">18</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    
                                    <a href="https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22KTC-3840%22%2C%20%22KSR-7694%22%2C%20%22KTC-3810%22%29" target="_blank" title="
                                        JIRA Sprint/Backlog Tasks (3 tasks, 0.0 SP counted for score):
                                        Score Formula: (Completed Tasks * Points) * Story Point Multiplier
                                        Tasks considered: https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22KTC-3840%22%2C%20%22KSR-7694%22%2C%20%22KTC-3810%22%29
                                        
                                    ">
                                        18
                                    </a>
                                    (-)
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#7</td>
                            <td class="member-info">
                                <span class="member-name">Huy (Henrik) Dao</span>
                                <span class="member-role">huy.dao@katalon.com / Senior Quality Engineer</span>
                            </td>
                            <td class="team-cell">TestOps / Report &amp; Analytics</td>
                            <td class="score-cell total-score">15</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                15
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#8</td>
                            <td class="member-info">
                                <span class="member-name">Thiep Truong</span>
                                <span class="member-role">thiep.truong@katalon.com / Principle Quality Engineer</span>
                            </td>
                            <td class="team-cell">Katalon Studio / Studio</td>
                            <td class="score-cell total-score">12</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    
                                    <a href="https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22KSR-7780%22%2C%20%22KSR-7747%22%29" target="_blank" title="
                                        JIRA Sprint/Backlog Tasks (2 tasks, 0.0 SP counted for score):
                                        Score Formula: (Completed Tasks * Points) * Story Point Multiplier
                                        Tasks considered: https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22KSR-7780%22%2C%20%22KSR-7747%22%29
                                        
                                    ">
                                        12
                                    </a>
                                    (-)
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#9</td>
                            <td class="member-info">
                                <span class="member-name">Lieu Huynh</span>
                                <span class="member-role">lieu.huynh@katalon.com / Senior Quality Engineer</span>
                            </td>
                            <td class="team-cell">TestOps / Core</td>
                            <td class="score-cell total-score">12</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    
                                    <a href="https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22KSR-7681%22%2C%20%22TO-9784%22%29" target="_blank" title="
                                        JIRA Sprint/Backlog Tasks (2 tasks, 0.0 SP counted for score):
                                        Score Formula: (Completed Tasks * Points) * Story Point Multiplier
                                        Tasks considered: https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22KSR-7681%22%2C%20%22TO-9784%22%29
                                        
                                    ">
                                        12
                                    </a>
                                    (-)
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#10</td>
                            <td class="member-info">
                                <span class="member-name">Anh Le</span>
                                <span class="member-role">anh.mle@katalon.com / Quality Engineer</span>
                            </td>
                            <td class="team-cell">TestCloud / TestCloud</td>
                            <td class="score-cell total-score">12</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    
                                    <a href="https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22KSR-7729%22%2C%20%22KSR-7604%22%29" target="_blank" title="
                                        JIRA Sprint/Backlog Tasks (2 tasks, 0.0 SP counted for score):
                                        Score Formula: (Completed Tasks * Points) * Story Point Multiplier
                                        Tasks considered: https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22KSR-7729%22%2C%20%22KSR-7604%22%29
                                        
                                    ">
                                        12
                                    </a>
                                    (-)
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#11</td>
                            <td class="member-info">
                                <span class="member-name">Nhu (Kara) Nguyen</span>
                                <span class="member-role">nhu.nguyen@katalon.com / Lead Quality Engineer</span>
                            </td>
                            <td class="team-cell">TestOps / Testleads</td>
                            <td class="score-cell total-score">12</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                8
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#12</td>
                            <td class="member-info">
                                <span class="member-name">Linh Phan</span>
                                <span class="member-role">linh.phan@katalon.com / Quality Engineer</span>
                            </td>
                            <td class="team-cell">TestOps / Admin</td>
                            <td class="score-cell total-score">8</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                8
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#13</td>
                            <td class="member-info">
                                <span class="member-name">Man Hua</span>
                                <span class="member-role">man.hua@katalon.com / Fresher Quality Engineer</span>
                            </td>
                            <td class="team-cell">TestOps / Core</td>
                            <td class="score-cell total-score">6</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    
                                    <a href="https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22TO-9965%22%29" target="_blank" title="
                                        JIRA Sprint/Backlog Tasks (1 tasks, 0.0 SP counted for score):
                                        Score Formula: (Completed Tasks * Points) * Story Point Multiplier
                                        Tasks considered: https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22TO-9965%22%29
                                        
                                    ">
                                        6
                                    </a>
                                    (-)
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#14</td>
                            <td class="member-info">
                                <span class="member-name">Truc Tran</span>
                                <span class="member-role">truc.tran@katalon.com / Senior Quality Engineer</span>
                            </td>
                            <td class="team-cell">TestOps / Admin</td>
                            <td class="score-cell total-score">6</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    
                                    <a href="https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22TO-10145%22%29" target="_blank" title="
                                        JIRA Sprint/Backlog Tasks (1 tasks, 0.0 SP counted for score):
                                        Score Formula: (Completed Tasks * Points) * Story Point Multiplier
                                        Tasks considered: https://katalon.atlassian.net/issues/?jql=key%20in%20%28%22TO-10145%22%29
                                        
                                    ">
                                        6
                                    </a>
                                    (-)
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#15</td>
                            <td class="member-info">
                                <span class="member-name">Phong Nguyen</span>
                                <span class="member-role">phong.nguyen@katalon.com / Senior Quality Engineer</span>
                            </td>
                            <td class="team-cell">Katalon Studio / Studio</td>
                            <td class="score-cell total-score">3</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                3
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                4
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#16</td>
                            <td class="member-info">
                                <span class="member-name">An Tran</span>
                                <span class="member-role">an.vtran@katalon.com / Lead Quality Engineer</span>
                            </td>
                            <td class="team-cell">Katalon Studio / Studio</td>
                            <td class="score-cell total-score">-</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                11126
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#17</td>
                            <td class="member-info">
                                <span class="member-name">Khanh Tran</span>
                                <span class="member-role">khanh.qmtran@katalon.com / Senior Quality Engineer</span>
                            </td>
                            <td class="team-cell">Katalon Studio / Studio</td>
                            <td class="score-cell total-score">-</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#18</td>
                            <td class="member-info">
                                <span class="member-name">Thuong Le</span>
                                <span class="member-role">thuong.le@katalon.com / Quality Engineer</span>
                            </td>
                            <td class="team-cell">Katalon Studio / Studio</td>
                            <td class="score-cell total-score">-</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#19</td>
                            <td class="member-info">
                                <span class="member-name">Hoa Truong</span>
                                <span class="member-role">hoa.truong@katalon.com / Quality Engineer</span>
                            </td>
                            <td class="team-cell">e-Commerce / Commerce Engine</td>
                            <td class="score-cell total-score">-</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                        
                        
                        <tr class="member-row ">
                            <td class="rank-cell ">#20</td>
                            <td class="member-info">
                                <span class="member-name">Vi Dinh</span>
                                <span class="member-role">vi.dinh@katalon.com / Quality Engineer</span>
                            </td>
                            <td class="team-cell">e-Commerce / Commerce Engine</td>
                            <td class="score-cell total-score">-</td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                -
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                
                                
                                
                                    -
                                
                            </td>
                            <td class="score-cell dimension-score">
                                
                                
                                    -
                                
                            </td>
                        </tr>
                    
                    </tbody>
                </table>
            </div> 
        </div>

        <!-- Guidelines Tab -->
        <div id="guidelines" class="tab-content">
            <div class="guidelines">
                <h2>QE Performance Scoring Methodology</h2>
                
                <div class="guidelines-section">
                    <h3>Score Components & Default Weights</h3>
                    <div class="score-explanation">
                        <p>The final score is a weighted sum of various performance dimensions. Default weights are shown below, but can be customized per team:</p>
                        <div class="score-formula">
Final Score = (Confluence Score × 0.10) +
            (Bug Score × 0.15) +
            (GitHub Automation Score × 0.15) +
            (Review Score × 0.10) +
            (JIRA Backlog Score × 0.20) +  // Covers testing_backlog (0.15) + non_testing_backlog (0.05)
            (Run Manual Score × 0.20) + 
            (Run Automation Score × 0.10)
                        </div>
                         <table class="score-weights-table">
                            <thead>
                                <tr><th>Dimension</th><th>Default Weight</th><th>Description</th></tr>
                            </thead>
                            <tbody>
                                <tr><td>Confluence Score</td><td>10%</td><td>Impact of documentation (pages created/updated, comments)</td></tr>
                                <tr><td>Bug Score</td><td>15%</td><td>Impact of reported bugs (priority, severity, resolution status)</td></tr>
                                <tr><td>GitHub Automation Score</td><td>15%</td><td>Contributions to automation via GitHub (PRs, direct commits)</td></tr>
                                <tr><td>Review Score</td><td>10%</td><td>Engagement in code/PR reviews</td></tr>
                                <tr><td>JIRA Backlog Score</td><td>20%</td><td>Completion of assigned JIRA tasks (testing and non-testing)</td></tr>
                                <tr><td>Run Manual Score</td><td>20%</td><td>Points from executing manual test cases in TestOps (0.25 points/case)</td></tr>
                                <tr><td>Run Automation Score</td><td>10%</td><td>Points from executing automated test cases in TestOps (0.1 points/case)</td></tr>
                            </tbody>
                        </table>
                        <p><i>Note: The old 'Manual Test Score' (based on TestOps executions count and status) and 'Automation Tasks Score' (from JIRA) are deprecated and their weights are now 0.</i></p>
                    </div>
                </div>

                <div class="guidelines-section">
                    <h3>Detailed Scoring Logic</h3>
                     <p>Each dimension has specific points or calculation logic:</p>
                    <ul>
                        <li><strong>Confluence:</strong> Pages Created (5pts), Updated (2pts), Comments (1pt).</li>
                        <li><strong>Bugs (JIRA):</strong> Complex calculation based on priority, severity, status (fixed, rejected, unresolved), and whether created/closed in period. Higher impact for critical/major bugs fixed.</li>
                        <li><strong>GitHub Automation:</strong> PR Created (3pts), PR Merged (2pts), Direct Commits (2pts).</li>
                        <li><strong>Reviews (GitHub):</strong> Approved PR (2pts), Commented on PR (1pt).</li>
                        <li><strong>JIRA Backlogs:</strong> Sprint tasks (6pts per task). This covers both testing and non-testing backlogs.</li>
                        <li><strong>Run Manual (TestOps):</strong> 0.25 points per test case reported in a manual execution.</li>
                        <li><strong>Run Automation (TestOps):</strong> 0.1 points per test case reported in an automated execution.</li>
                    </ul>
                </div>
                
                <div class="guidelines-section">
                    <h3>Team-Specific Weights</h3>
                    <div class="score-explanation">
                        <p>Teams can have customized weight distributions based on their specific focus. These override the default weights. Check with your team lead for your team's specific weight configuration if it differs from the defaults above.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Analytics Tab (Placeholder) -->
        <div id="analytics" class="tab-content">
            <div class="analytics">
                <h2>Performance Analytics Dashboard</h2>
                <p>Visual comparison of team performance across key dimensions and AI-generated insights.</p>
                
                <div id="analytics-row-1" class="analytics-row">
                    <div class="dimension-card" id="card-bug_score">
                        <h3>Bug Score Contribution</h3>
                        <canvas id="chart-bug_score"></canvas>
                        <div class="ai-analysis" id="ai-bug_score">Loading AI analysis...</div>
                    </div>
                    <div class="dimension-card" id="card-automation_score">
                        <h3>GitHub Automation Score</h3>
                        <canvas id="chart-automation_score"></canvas>
                        <div class="ai-analysis" id="ai-automation_score">Loading AI analysis...</div>
                    </div>
                </div>

                <div id="analytics-row-2" class="analytics-row">
                    <div class="dimension-card" id="card-jira_backlog">
                        <h3>JIRA Backlog Score</h3>
                        <canvas id="chart-jira_backlog"></canvas>
                        <div class="ai-analysis" id="ai-jira_backlog">Loading AI analysis...</div>
                    </div>
                    <div class="dimension-card" id="card-team_total_story_points">
                        <h3>Team Story Points Completion</h3>
                        <canvas id="chart-team_total_story_points"></canvas>
                        <div class="ai-analysis" id="ai-team_total_story_points">Loading AI analysis...</div>
                    </div>
                </div>

                <div id="analytics-row-3" class="analytics-row">
                    <div class="dimension-card" id="card-run_automation">
                        <h3>Running Automation Score</h3>
                        <canvas id="chart-run_automation"></canvas>
                        <div class="ai-analysis" id="ai-run_automation">Loading AI analysis...</div>
                    </div>
                    <div class="dimension-card" id="card-run_manual">
                        <h3>Running Manual Score</h3>
                        <canvas id="chart-run_manual"></canvas>
                        <div class="ai-analysis" id="ai-run_manual">Loading AI analysis...</div>
                    </div>
                </div>
                
                <div id="analytics-row-4" class="analytics-row">
                    <div class="dimension-card" id="card-confluence_score">
                        <h3>Confluence Score</h3>
                        <canvas id="chart-confluence_score"></canvas>
                        <div class="ai-analysis" id="ai-confluence_score">Loading AI analysis...</div>
                    </div>
                </div>

            </div>
        </div>

        <div class="footer">
            Generated on 2025-06-05 11:48:33 UTC by the QE Leaderboard System.
        </div>
    </div>

    <script id="analyticsRawData" type="application/json">
        {"dimension_insights": {"automation": {"analysis": "The Manual Test (16.0) and Report \u0026 Analytics (15.0) teams show the highest contributions to Automation, with the former being an interesting highlight given its name. Conversely, TrueTest, TestCloud, and Commerce Engine teams report zero automation contributions, indicating a significant area of concern or potential scope limitations. Focus should be placed on understanding the nature of contributions from high-scoring teams and investigating the complete lack of automation output from the zero-scoring teams.", "prompt": "As a performance analyst for a Quality Engineering department, analyze the following team scores for the period 2025-06-01 to 2026-06-04. The scores represent the sum of weighted contributions from team members. Higher scores are better. Provide a brief analysis (2-3 sentences) highlighting any significant observations, trends, or potential areas of focus. Be concise and data-driven. Avoid generic statements. If data is insufficient for a meaningful analysis (e.g., all zeros or very few teams), state that.\n\nDimension: Automation\nTeam Scores: Core: 8.0; TrueTest: 0.0; Manual Test: 16.0; TestCloud: 0.0; Report \u0026 Analytics: 15.0; Studio: 3.0; Testleads: 8.0; Admin: 8.0; Commerce Engine: 0.0\n\nFocus your analysis specifically on the Automation dimension based on these team totals. What does this data suggest?"}, "bug": {"analysis": "No data available for this dimension to analyze.", "prompt": "No data available for analysis."}, "confluence": {"analysis": "No data available for this dimension to analyze.", "prompt": "No data available for analysis."}, "jira_backlog": {"analysis": "TrueTest (66.0) and Core (60.0) are the primary contributors to the Jira Backlog dimension. Manual Test, Studio, and Admin teams show significantly lower contributions (12.0-6.0), while Report \u0026 Analytics, Testleads, and Commerce Engine have no measurable contribution (0.0). Focus should be on understanding the underlying reasons for these disparities, particularly the zero scores, to determine if they represent a gap in backlog management or an expected operational scope.", "prompt": "As a performance analyst for a Quality Engineering department, analyze the following team scores for the period 2025-06-01 to 2026-06-04. The scores represent the sum of weighted contributions from team members. Higher scores are better. Provide a brief analysis (2-3 sentences) highlighting any significant observations, trends, or potential areas of focus. Be concise and data-driven. Avoid generic statements. If data is insufficient for a meaningful analysis (e.g., all zeros or very few teams), state that.\n\nDimension: Jira Backlog\nTeam Scores: Core: 60.0; TrueTest: 66.0; Manual Test: 12.0; TestCloud: 30.0; Report \u0026 Analytics: 0.0; Studio: 12.0; Testleads: 0.0; Admin: 6.0; Commerce Engine: 0.0\n\nFocus your analysis specifically on the Jira Backlog dimension based on these team totals. What does this data suggest?"}, "run_automation": {"analysis": "The Studio team is the overwhelming primary contributor to \u0027Run Automation,\u0027 with an exceptionally high score of 11130.0. The Manual Test team shows a minor contribution (543.0), but all other teams recorded zero contributions for this dimension. This data suggests a highly concentrated automation execution effort, predominantly centralized within the Studio team, indicating potential areas for cross-team collaboration or expansion of automation ownership if applicable.", "prompt": "As a performance analyst for a Quality Engineering department, analyze the following team scores for the period 2025-06-01 to 2026-06-04. The scores represent the sum of weighted contributions from team members. Higher scores are better. Provide a brief analysis (2-3 sentences) highlighting any significant observations, trends, or potential areas of focus. Be concise and data-driven. Avoid generic statements. If data is insufficient for a meaningful analysis (e.g., all zeros or very few teams), state that.\n\nDimension: Run Automation\nTeam Scores: Core: 0.0; TrueTest: 0.0; Manual Test: 543.0; TestCloud: 0.0; Report \u0026 Analytics: 0.0; Studio: 11130.0; Testleads: 0.0; Admin: 0.0; Commerce Engine: 0.0\n\nFocus your analysis specifically on the Run Automation dimension based on these team totals. What does this data suggest?"}, "run_manual": {"analysis": "No data available for this dimension to analyze.", "prompt": "No data available for analysis."}, "team_total_story_points": {"analysis": "No data available for this dimension to analyze.", "prompt": "No data available for analysis."}}, "team_comparison_scores": {"automation": {"Admin": 8.0, "Commerce Engine": 0.0, "Core": 8.0, "Manual Test": 16.0, "Report \u0026 Analytics": 15.0, "Studio": 3.0, "TestCloud": 0.0, "Testleads": 8.0, "TrueTest": 0.0}, "bug": {"Admin": 0.0, "Commerce Engine": 0.0, "Core": 0.0, "Manual Test": 0.0, "Report \u0026 Analytics": 0.0, "Studio": 0.0, "TestCloud": 0.0, "Testleads": 0.0, "TrueTest": 0.0}, "confluence": {"Admin": 0.0, "Commerce Engine": 0.0, "Core": 0.0, "Manual Test": 0.0, "Report \u0026 Analytics": 0.0, "Studio": 0.0, "TestCloud": 0.0, "Testleads": 0.0, "TrueTest": 0.0}, "jira_backlog": {"Admin": 6.0, "Commerce Engine": 0.0, "Core": 60.0, "Manual Test": 12.0, "Report \u0026 Analytics": 0.0, "Studio": 12.0, "TestCloud": 30.0, "Testleads": 0.0, "TrueTest": 66.0}, "run_automation": {"Admin": 0.0, "Commerce Engine": 0.0, "Core": 0.0, "Manual Test": 543.0, "Report \u0026 Analytics": 0.0, "Studio": 11130.0, "TestCloud": 0.0, "Testleads": 0.0, "TrueTest": 0.0}, "run_manual": {"Admin": 0.0, "Commerce Engine": 0.0, "Core": 0.0, "Manual Test": 0.0, "Report \u0026 Analytics": 0.0, "Studio": 0.0, "TestCloud": 0.0, "Testleads": 0.0, "TrueTest": 0.0}, "team_total_story_points": {"Admin": 0.0, "Commerce Engine": 0.0, "Core": 0.0, "Manual Test": 0.0, "Report \u0026 Analytics": 0.0, "Studio": 0.0, "TestCloud": 0.0, "Testleads": 0.0, "TrueTest": 0.0}}}
    </script>
    <script>
        function switchTab(tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none"; // Explicitly hide first
                tabcontent[i].classList.remove("active"); // Remove active class from all content panes
            }
            tablinks = document.getElementsByClassName("tab");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].classList.remove("active"); // Remove active class from all tab links
            }
            
            const activeTabContent = document.getElementById(tabName);
            if (activeTabContent) {
                activeTabContent.style.display = ""; // Clear inline display style so CSS class can take over
                activeTabContent.classList.add("active"); // Add active class to the current tab content
            }
            
            if (event && event.currentTarget) {
                event.currentTarget.classList.add("active"); // Add active class to the clicked tab link
            } else {
                // Fallback for initial load if called without an event
                // Find the tab link that corresponds to tabName and activate it
                for (i = 0; i < tablinks.length; i++) {
                    if (tablinks[i].getAttribute('onclick').includes(tabName)) {
                        tablinks[i].classList.add("active");
                        break;
                    }
                }
            }
        }

        // Ensure the initially active tab is correctly set up on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Find the tab content that has the 'active' class in the HTML markup initially
            const initiallyActiveTabContent = document.querySelector('.tab-content.active');
            let initialTabName = 'leaderboard'; // Default if nothing is marked active
            if (initiallyActiveTabContent) {
                initialTabName = initiallyActiveTabContent.id;
            }
            // Call switchTab to ensure correct classes and styles are applied for the initial view
            // This call might not have 'event.currentTarget', so the fallback in switchTab will be used.
            // We need to simulate a click on the tab that should be active or directly set its state.
            
            // Let's simplify: The HTML already marks an active tab link and content.
            // The JS for analytics rendering should just run.
            // The issue might be that 'event.currentTarget' is not set if switchTab is called programmatically without an event.
            // The primary fix is ensuring 'active' class is on the content pane.

            const analyticsRawDataElement = document.getElementById('analyticsRawData');
            let analyticsData = null;

            if (analyticsRawDataElement && analyticsRawDataElement.textContent) {
                try {
                    analyticsData = JSON.parse(analyticsRawDataElement.textContent);
                    console.log("Successfully parsed analytics data:", analyticsData);
                } catch (e) {
                    console.error("Error parsing analytics data from script tag:", e);
                    const rawJsonErrorDiv = document.createElement('div');
                    rawJsonErrorDiv.style.color = 'red';
                    rawJsonErrorDiv.textContent = "Error: Could not parse analytics JSON data. Raw data: " + analyticsRawDataElement.textContent.substring(0, 500) + "...";
                    const analyticsContainer = document.querySelector('#analytics .analytics');
                    if (analyticsContainer) analyticsContainer.prepend(rawJsonErrorDiv);
                }
            } else {
                console.warn("Analytics raw data element not found or empty.");
            }

            const chartColors = [
                'rgba(255, 99, 132, 0.7)', 'rgba(54, 162, 235, 0.7)', 'rgba(255, 206, 86, 0.7)',
                'rgba(75, 192, 192, 0.7)', 'rgba(153, 102, 255, 0.7)', 'rgba(255, 159, 64, 0.7)',
                'rgba(199, 199, 199, 0.7)', 'rgba(83, 102, 255, 0.7)', 'rgba(100, 255, 64, 0.7)'
            ];
            const chartBorderColors = chartColors.map(color => color.replace('0.7', '1'));

            // Map dimensions to their titles and preferred chart types
            // Order here determines the order of chart rendering if we iterate this map.
            const dimensionConfig = {
                'bug_score': { title: 'Bug Score Contribution', type: 'pie', targetCard: 'card-bug_score' },
                'automation_score': { title: 'GitHub Automation Score', type: 'pie', targetCard: 'card-automation_score' },
                'jira_backlog': { title: 'JIRA Backlog Score', type: 'bar', targetCard: 'card-jira_backlog' },
                'team_total_story_points': { title: 'Team Story Points Completion', type: 'bar', targetCard: 'card-team_total_story_points' },
                'run_automation': { title: 'Running Automation Score', type: 'bar', targetCard: 'card-run_automation' },
                'run_manual': { title: 'Running Manual Score', type: 'bar', targetCard: 'card-run_manual' },
                'confluence_score': { title: 'Confluence Score', type: 'pie', targetCard: 'card-confluence_score' }
            };

            function renderAnalyticsCharts() {
                if (!analyticsData || !analyticsData.team_comparison_scores || !analyticsData.dimension_insights) {
                    console.warn("Analytics data is not available or incomplete for chart rendering.");
                    Object.keys(dimensionConfig).forEach(key => {
                        const cardId = dimensionConfig[key].targetCard;
                        const cardElement = document.getElementById(cardId);
                        if (cardElement) {
                            cardElement.innerHTML = `<h3>${dimensionConfig[key].title}</h3><p>Data not available for this chart.</p>`;
                        }
                    });
                    return;
                }

                Object.keys(dimensionConfig).forEach((dimensionKey, index) => {
                    const config = dimensionConfig[dimensionKey];
                    const cardElement = document.getElementById(config.targetCard);

                    if (!cardElement) {
                        console.warn(`Card element ${config.targetCard} not found for dimension ${dimensionKey}`);
                        return;
                    }

                    const canvasId = `chart-${dimensionKey.replace(/_/g, '-')}`;
                    const aiTextId = `ai-${dimensionKey.replace(/_/g, '-')}`;

                    // Check if canvas and AI div already exist, if not create them (or ensure they match expected IDs)
                    let canvas = cardElement.querySelector('canvas');
                    let aiAnalysisDiv = cardElement.querySelector('.ai-analysis');

                    // Title is already in HTML structure, no need to set it again here unless dynamic
                    // const titleElement = cardElement.querySelector('h3');
                    // if (titleElement) titleElement.textContent = config.title;

                    const dimensionData = analyticsData.team_comparison_scores[dimensionKey];
                    const dimensionInsight = analyticsData.dimension_insights[dimensionKey];

                    if (!dimensionData || Object.keys(dimensionData).length === 0) {
                        console.warn(`No data for dimension: ${dimensionKey}`);
                        if (canvas) canvas.style.display = 'none'; // Hide canvas if it exists
                        const p = document.createElement('p');
                        p.textContent = "No data available for this dimension.";
                        // Prepend to card, or replace canvas/ai-div content
                        const existingP = cardElement.querySelector('p');
                        if (existingP) existingP.remove(); // Remove old message if any
                        cardElement.appendChild(p);
                        if (aiAnalysisDiv) aiAnalysisDiv.textContent = "No data to analyze.";
                        return;
                    }

                    const labels = Object.keys(dimensionData);
                    const dataValues = Object.values(dimensionData);

                    const chartContext = canvas.getContext('2d');
                    new Chart(chartContext, {
                        type: config.type, // pie or bar
                        data: {
                            labels: labels,
                            datasets: [{
                                label: config.title,
                                data: dataValues,
                                backgroundColor: chartColors,
                                borderColor: chartBorderColors,
                                borderWidth: 1
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false, // Important for controlling size with CSS
                            plugins: {
                                legend: {
                                    position: (config.type === 'pie' ? 'top' : 'display'), // Only display legend for pie, or customize as needed
                                    display: config.type === 'pie' || dataValues.length > 1 // show legend for pie or if multiple datasets (not the case here)
                                },
                                title: {
                                    display: false, // Title is in card H3
                                    text: config.title
                                }
                            }
                        }
                    });

                    if (aiAnalysisDiv) {
                        aiAnalysisDiv.textContent = dimensionInsight && dimensionInsight.analysis ? dimensionInsight.analysis : "AI analysis pending or not available.";
                    }
                });
            }

            if (document.readyState === 'loading') { //DOM might not be fully loaded
                document.addEventListener('DOMContentLoaded', renderAnalyticsCharts);
            } else { //DOM already loaded
                renderAnalyticsCharts();
            }
        });

        let sortDirections = {}; // Object to store sort direction for each column of each table

        function sortTable(columnIndex, tableId) {
            const table = document.getElementById(tableId);
            if (!table) {
                console.error("Table with ID " + tableId + " not found.");
                return;
            }
            const tbody = table.tBodies[0];
            if (!tbody) {
                console.error("Table body not found for table ID " + tableId);
                return;
            }
            const rows = Array.from(tbody.rows);
            const headerCell = table.tHead.rows[0].cells[columnIndex];

            // Create a unique key for sortDirections if multiple tables are sortable
            const tableSortKey = tableId + '-' + columnIndex;

            const currentDirection = sortDirections[tableSortKey] || 'asc';
            const newDirection = currentDirection === 'asc' ? 'desc' : 'asc';
            
            // Reset directions for other columns in this specific table or globally if preferred
            // For simplicity, this example resets all other column sort states globally
            // To reset only for the current table: iterate sortDirections keys and delete those starting with tableId + '-'
            Object.keys(sortDirections).forEach(key => {
                if (key.startsWith(tableId + '-')) {
                    delete sortDirections[key];
                }
            });
            sortDirections[tableSortKey] = newDirection;

            const getCellValue = (row, index) => {
                const cell = row.cells[index];
                if (!cell) return ' '; // Should not happen with valid table structure

                const cellText = cell.innerText || cell.textContent;
                
                // Handle Rank column (index 0) specifically for icons
                if (index === 0 && tableId === 'leaderboardTable') { 
                    if (cellText.includes('🥇')) return 1;
                    if (cellText.includes('🥈')) return 2;
                    if (cellText.includes('🥉')) return 3;
                    if (cellText.startsWith('#')) return parseInt(cellText.substring(1), 10);
                    return Number.MAX_SAFE_INTEGER; // Should not happen
                }

                // For scores like "60 (100)", we want to sort by the primary score (60)
                const scoreMatch = cellText.match(/^(-?[\d\.]+)(\s*\([^)]*\))?/);
                if (scoreMatch && !isNaN(parseFloat(scoreMatch[1]))) {
                    return parseFloat(scoreMatch[1]);
                }

                // General numeric check
                if (!isNaN(parseFloat(cellText)) && isFinite(cellText)) {
                    return parseFloat(cellText);
                }
                return cellText.trim().toLowerCase(); // Default to case-insensitive string sort
            };

            rows.sort((rowA, rowB) => {
                const valA = getCellValue(rowA, columnIndex);
                const valB = getCellValue(rowB, columnIndex);

                let comparison = 0;
                if (typeof valA === 'number' && typeof valB === 'number') {
                    comparison = valA - valB;
                } else {
                    // Fallback for string comparison if types are mixed or both are strings
                    comparison = String(valA).localeCompare(String(valB));
                }
                return newDirection === 'asc' ? comparison : -comparison;
            });

            rows.forEach(row => tbody.appendChild(row));

            // Update header arrows
            table.querySelectorAll('th.sortable').forEach(th => {
                th.classList.remove('sort-asc', 'sort-desc');
            });
            if (headerCell && headerCell.classList.contains('sortable')) {
                headerCell.classList.add(newDirection === 'asc' ? 'sort-asc' : 'sort-desc');
            }
        }

    </script>
</body>
</html> 